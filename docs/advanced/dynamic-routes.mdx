# Dynamic Routes

Use **`paths()`** to prebuild concrete routes from parameterized files.

## Example: `/users/:id`

`src-api/users/[id].js`:

```js
export async function paths() {
  return ['1', '2', '3']; // will build /users/1, /users/2, /users/3
}

export async function data({ params }) {
  return { id: params.id, role: Number(params.id) % 2 === 0 ? 'editor' : 'viewer' };
}
```

Output:

```
api-out/
└─ users/
   ├─ 1/index.json
   ├─ 2/index.json
   └─ 3/index.json
```

## Catch-all: `/docs/*slug`

`src-api/docs/[...slug].js`:

```js
export async function paths() {
  return [['a', 'b'], ['guide']]; // /docs/a/b and /docs/guide
}

export async function data({ params }) {
  return { slug: params.slug, path: params.slug.join('/') };
}
```

## Validation Rules

- Dynamic `paths()` returns **`string[]`** (no slashes, no empty strings).
- Catch-all returns **`(string|string[])[]`** with non-empty segments and no slashes in each segment.

If validation fails, the build exits with a helpful error.
